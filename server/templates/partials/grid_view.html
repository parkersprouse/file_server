<div id='grid-view'>
  {{#each files}}
    {{#if this.external_url}}
    <a class='content-card' href='{{this.external_url}}' target='_blank' rel='noopener noreferrer' referrerpolicy='no-referrer' title='{{this.name}}'>
    {{else}}
    <a
      class='{{this.type}}-thumbnail content-card'
      href='{{this.path}}'
      title='{{this.name}}'
      {{#if (or
        (eq this.type "image")
        (eq this.type "video"))}}
        data-src='{{this.path}}'
      {{/if}}
      {{#if this.src}}
        data-poster='{{this.src}}'
      {{else if this.thumbnail}}
        data-poster='{{this.thumbnail}}'
      {{/if}}
    >
    {{/if}}
      <div>
        <div class='thumbnail'>
          {{#if this.src}}
            <img src='{{this.src}}'>
          {{else if this.thumbnail}}
            <img src='{{this.thumbnail}}'>
          {{else}}
            <i class='{{this.icon}}'></i>
          {{/if}}
        </div>

        {{#if this.name}}
          <div>
            {{this.name}}
          </div>
        {{/if}}

        <table class='meta'>
          <tbody>
            {{#if this.duration}}
              <tr>
                <td><i class='fa-sharp fa-regular fa-stopwatch'></i></td>
                <td>{{this.duration}}</td>
              </tr>
            {{/if}}
            {{#if this.last_updated}}
              <tr>
                <td><i class='fa-sharp fa-regular fa-history'></i></td>
                <td class='grid-view-last-updated'>{{this.last_updated}}</td>
              </tr>
            {{/if}}
          </tbody>
        </table>
      </div>
    </a>
  {{/each}}
</div>
