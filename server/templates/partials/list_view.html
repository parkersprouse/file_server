<div id='list-view'>
  {{#each files}}
    {{#if this.external_url}}
    <a
      href='{{this.external_url}}'
      class='list-view--entry'
      target='_blank'
      rel='noopener noreferrer'
      referrerpolicy='no-referrer'
      title='{{this.name}}'
    >
    {{else}}
    <a
      href='{{this.path}}'
      class='list-view--entry {{this.type}}-thumbnail'
      title='{{this.name}}'
      {{#if (or
        (eq this.type "image")
        (eq this.type "video"))}}
        data-src='{{this.path}}'
      {{/if}}
      {{#if this.src}}
        data-poster='{{this.src}}'
      {{else if this.thumbnail}}
        data-poster='{{this.thumbnail}}'
      {{/if}}
    >
    {{/if}}
      <div class='list-view--entry__left'>
        <div class='list-view--entry-cell list-view--entry-cell__icon'>
          <span>{{{this.icon}}}</span>
        </div>
      </div>
      <div class='list-view--entry__right'>
        <div class='list-view--entry-cell__right-top'>
          <div class='list-view--entry-cell list-view--entry-cell__name'>
            {{this.name}}
          </div>
        </div>
        {{#if (or this.duration this.last_updated)}}
          <div class='list-view--entry-cell__right-bottom'>
            {{#if this.last_updated}}
              <div class='list-view--entry-cell list-view--entry-cell__last-updated'>
                <span class='meta' title='Last Updated {{this.last_updated.absolute}}'>
                  <svg class='icon' xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M136,80v43.47l36.12,21.67a8,8,0,0,1-8.24,13.72l-40-24A8,8,0,0,1,120,128V80a8,8,0,0,1,16,0Zm-8-48A95.44,95.44,0,0,0,60.08,60.15C52.81,67.51,46.35,74.59,40,82V64a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H72a8,8,0,0,0,0-16H49c7.15-8.42,14.27-16.35,22.39-24.57a80,80,0,1,1,1.66,114.75,8,8,0,1,0-11,11.64A96,96,0,1,0,128,32Z" />
                  </svg>
                  {{this.last_updated.relative}}
                </span>
              </div>
            {{/if}}
            {{#if (and this.duration this.last_updated)}}
              <span class='separator'>&bull;</span>
            {{/if}}
            {{#if this.duration}}
              <div class='list-view--entry-cell list-view--entry-cell__duration'>
                <span class='meta' title='{{this.duration.long}}'>
                  <svg class='icon' xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M128,40a96,96,0,1,0,96,96A96.11,96.11,0,0,0,128,40Zm0,176a80,80,0,1,1,80-80A80.09,80.09,0,0,1,128,216ZM173.66,90.34a8,8,0,0,1,0,11.32l-40,40a8,8,0,0,1-11.32-11.32l40-40A8,8,0,0,1,173.66,90.34ZM96,16a8,8,0,0,1,8-8h48a8,8,0,0,1,0,16H104A8,8,0,0,1,96,16Z" />
                  </svg>
                  {{this.duration.short}}
                </span>
              </div>
            {{/if}}
          </div>
        {{/if}}
      </div>
    </a>
  {{/each}}
</div>
